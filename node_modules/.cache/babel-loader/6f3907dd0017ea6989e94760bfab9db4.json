{"ast":null,"code":"import { CURRENCY_PER_PAGE } from \"../../assets/js/constants\";\nimport { PossibleSortTypes, CurrencyActionTypes } from \"./types\";\nconst initialState = {\n  data: [],\n  sortAZ: true,\n  sortType: PossibleSortTypes.NOT_SORTED,\n  page: 1,\n  maxPage: 1,\n  pageCapacity: CURRENCY_PER_PAGE\n};\nexport const currencyReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CurrencyActionTypes.SET_CURRENCY_DATA:\n      {\n        return { ...state,\n          data: action.payload\n        };\n      }\n\n    case CurrencyActionTypes.SET_MAX_PAGE:\n      {\n        return { ...state,\n          maxPage: action.payload\n        };\n      }\n\n    case CurrencyActionTypes.CHANGE_VIEW_PAGE:\n      {\n        const newPage = state.page + 1;\n        return { ...state,\n          page: newPage > state.maxPage ? 1 : newPage\n        };\n      }\n\n    case CurrencyActionTypes.SET_SORT_TYPE:\n      {\n        return { ...state,\n          sortAZ: true,\n          sortType: state.sortType === action.payload ? PossibleSortTypes.NOT_SORTED : action.payload\n        };\n      }\n\n    case CurrencyActionTypes.CHANGE_SORT_DIRECTION:\n      {\n        return { ...state,\n          sortAZ: !state.sortAZ\n        };\n      }\n\n    case CurrencyActionTypes.SET_NEW_PRICES:\n      {\n        return { ...state,\n          data: state.data.map(item => {\n            const newPrice = action.payload[item.id];\n            if (!newPrice) return item;\n            return { ...item,\n              priceUsd: newPrice\n            };\n          })\n        };\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["CURRENCY_PER_PAGE","PossibleSortTypes","CurrencyActionTypes","initialState","data","sortAZ","sortType","NOT_SORTED","page","maxPage","pageCapacity","currencyReducer","state","action","type","SET_CURRENCY_DATA","payload","SET_MAX_PAGE","CHANGE_VIEW_PAGE","newPage","SET_SORT_TYPE","CHANGE_SORT_DIRECTION","SET_NEW_PRICES","map","item","newPrice","id","priceUsd"],"sources":["/home/muneeb/coincap-assignment/src/store/currency/reducer.ts"],"sourcesContent":["import { CURRENCY_PER_PAGE } from \"../../assets/js/constants\";\nimport {\n  CurrencyInitialState,\n  CurrencyActions,\n  PossibleSortTypes,\n  CurrencyActionTypes,\n} from \"./types\";\n\nconst initialState: CurrencyInitialState = {\n  data: [],\n  sortAZ: true,\n  sortType: PossibleSortTypes.NOT_SORTED,\n  page: 1,\n  maxPage: 1,\n  pageCapacity: CURRENCY_PER_PAGE,\n};\n\nexport const currencyReducer = (\n  state = initialState,\n  action: CurrencyActions,\n): CurrencyInitialState => {\n  switch (action.type) {\n    case CurrencyActionTypes.SET_CURRENCY_DATA: {\n      return {\n        ...state,\n        data: action.payload,\n      };\n    }\n    case CurrencyActionTypes.SET_MAX_PAGE: {\n      return {\n        ...state,\n        maxPage: action.payload,\n      };\n    }\n    case CurrencyActionTypes.CHANGE_VIEW_PAGE: {\n      const newPage = state.page + 1;\n      return {\n        ...state,\n        page: newPage > state.maxPage ? 1 : newPage,\n      };\n    }\n    case CurrencyActionTypes.SET_SORT_TYPE: {\n      return {\n        ...state,\n        sortAZ: true,\n        sortType: state.sortType === action.payload ? PossibleSortTypes.NOT_SORTED : action.payload,\n      };\n    }\n    case CurrencyActionTypes.CHANGE_SORT_DIRECTION: {\n      return {\n        ...state,\n        sortAZ: !state.sortAZ,\n      };\n    }\n    case CurrencyActionTypes.SET_NEW_PRICES: {\n      return {\n        ...state,\n        data: state.data.map((item) => {\n          const newPrice = action.payload[item.id];\n          if (!newPrice) return item;\n          return {\n            ...item,\n            priceUsd: newPrice,\n          };\n        }),\n      };\n    }\n    default:\n      return state;\n  }\n};\n"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,2BAAlC;AACA,SAGEC,iBAHF,EAIEC,mBAJF,QAKO,SALP;AAOA,MAAMC,YAAkC,GAAG;EACzCC,IAAI,EAAE,EADmC;EAEzCC,MAAM,EAAE,IAFiC;EAGzCC,QAAQ,EAAEL,iBAAiB,CAACM,UAHa;EAIzCC,IAAI,EAAE,CAJmC;EAKzCC,OAAO,EAAE,CALgC;EAMzCC,YAAY,EAAEV;AAN2B,CAA3C;AASA,OAAO,MAAMW,eAAe,GAAG,YAGJ;EAAA,IAFzBC,KAEyB,uEAFjBT,YAEiB;EAAA,IADzBU,MACyB;;EACzB,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKZ,mBAAmB,CAACa,iBAAzB;MAA4C;QAC1C,OAAO,EACL,GAAGH,KADE;UAELR,IAAI,EAAES,MAAM,CAACG;QAFR,CAAP;MAID;;IACD,KAAKd,mBAAmB,CAACe,YAAzB;MAAuC;QACrC,OAAO,EACL,GAAGL,KADE;UAELH,OAAO,EAAEI,MAAM,CAACG;QAFX,CAAP;MAID;;IACD,KAAKd,mBAAmB,CAACgB,gBAAzB;MAA2C;QACzC,MAAMC,OAAO,GAAGP,KAAK,CAACJ,IAAN,GAAa,CAA7B;QACA,OAAO,EACL,GAAGI,KADE;UAELJ,IAAI,EAAEW,OAAO,GAAGP,KAAK,CAACH,OAAhB,GAA0B,CAA1B,GAA8BU;QAF/B,CAAP;MAID;;IACD,KAAKjB,mBAAmB,CAACkB,aAAzB;MAAwC;QACtC,OAAO,EACL,GAAGR,KADE;UAELP,MAAM,EAAE,IAFH;UAGLC,QAAQ,EAAEM,KAAK,CAACN,QAAN,KAAmBO,MAAM,CAACG,OAA1B,GAAoCf,iBAAiB,CAACM,UAAtD,GAAmEM,MAAM,CAACG;QAH/E,CAAP;MAKD;;IACD,KAAKd,mBAAmB,CAACmB,qBAAzB;MAAgD;QAC9C,OAAO,EACL,GAAGT,KADE;UAELP,MAAM,EAAE,CAACO,KAAK,CAACP;QAFV,CAAP;MAID;;IACD,KAAKH,mBAAmB,CAACoB,cAAzB;MAAyC;QACvC,OAAO,EACL,GAAGV,KADE;UAELR,IAAI,EAAEQ,KAAK,CAACR,IAAN,CAAWmB,GAAX,CAAgBC,IAAD,IAAU;YAC7B,MAAMC,QAAQ,GAAGZ,MAAM,CAACG,OAAP,CAAeQ,IAAI,CAACE,EAApB,CAAjB;YACA,IAAI,CAACD,QAAL,EAAe,OAAOD,IAAP;YACf,OAAO,EACL,GAAGA,IADE;cAELG,QAAQ,EAAEF;YAFL,CAAP;UAID,CAPK;QAFD,CAAP;MAWD;;IACD;MACE,OAAOb,KAAP;EA/CJ;AAiDD,CArDM"},"metadata":{},"sourceType":"module"}