{"ast":null,"code":"import { WSS_URL } from \"./constants\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\nclass WebSocketService {\n  constructor(URL) {\n    this.BASE_URL = void 0;\n    this.WS = void 0;\n\n    this.onMessage = func => {\n      if (this.WS) {\n        this.WS.onmessage = func;\n      }\n    };\n\n    this.onError = func => {\n      if (this.WS) {\n        this.WS.onerror = func;\n      }\n    };\n\n    this.onOpen = func => {\n      if (this.WS) {\n        this.WS.onopen = func;\n      }\n    };\n\n    this.onClose = func => {\n      if (this.WS) {\n        this.WS.onclose = func;\n      }\n    };\n\n    this.openConnection = url => {\n      this.WS = new WebSocket(url || this.BASE_URL);\n    };\n\n    this.closeConnection = () => {\n      var _this$WS;\n\n      (_this$WS = this.WS) === null || _this$WS === void 0 ? void 0 : _this$WS.close();\n      this.WS = null;\n    };\n\n    this.BASE_URL = URL;\n    this.WS = null;\n  }\n\n}\n\nconst WssApi = new WebSocketService(WSS_URL);\nexport { WssApi, WebSocketService };","map":{"version":3,"names":["WSS_URL","WebSocketService","constructor","URL","BASE_URL","WS","onMessage","func","onmessage","onError","onerror","onOpen","onopen","onClose","onclose","openConnection","url","WebSocket","closeConnection","close","WssApi"],"sources":["/home/muneeb/coincap-assignment/src/api/wsService.ts"],"sourcesContent":["import { WSS_URL } from \"./constants\";\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\ntype WsOnMessageType = ((this: WebSocket, ev: MessageEvent) => any) | null;\ntype WsOnErrorType = ((this: WebSocket, ev: Event) => any) | null;\ntype WsOnOpenType = ((this: WebSocket, ev: Event) => any) | null;\ntype WsOnCloseType = ((this: WebSocket, ev: CloseEvent) => any) | null;\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nclass WebSocketService {\n  private BASE_URL: string;\n\n  private WS: WebSocket | null;\n\n  constructor(URL: string) {\n    this.BASE_URL = URL;\n    this.WS = null;\n  }\n\n  public onMessage = (func: WsOnMessageType): void => {\n    if (this.WS) {\n      this.WS.onmessage = func;\n    }\n  }\n\n  public onError = (func: WsOnErrorType): void => {\n    if (this.WS) {\n      this.WS.onerror = func;\n    }\n  }\n\n  public onOpen = (func: WsOnOpenType): void => {\n    if (this.WS) {\n      this.WS.onopen = func;\n    }\n  }\n\n  public onClose = (func: WsOnCloseType): void => {\n    if (this.WS) {\n      this.WS.onclose = func;\n    }\n  }\n\n  public openConnection = (url?: string): void => {\n    this.WS = new WebSocket(url || this.BASE_URL);\n  }\n\n  public closeConnection = (): void => {\n    this.WS?.close();\n    this.WS = null;\n  };\n}\n\nconst WssApi = new WebSocketService(WSS_URL);\n\nexport { WssApi, WebSocketService };\n"],"mappings":"AAAA,SAASA,OAAT,QAAwB,aAAxB;AAEA;;AAKA;AAEA,MAAMC,gBAAN,CAAuB;EAKrBC,WAAW,CAACC,GAAD,EAAc;IAAA,KAJjBC,QAIiB;IAAA,KAFjBC,EAEiB;;IAAA,KAKlBC,SALkB,GAKLC,IAAD,IAAiC;MAClD,IAAI,KAAKF,EAAT,EAAa;QACX,KAAKA,EAAL,CAAQG,SAAR,GAAoBD,IAApB;MACD;IACF,CATwB;;IAAA,KAWlBE,OAXkB,GAWPF,IAAD,IAA+B;MAC9C,IAAI,KAAKF,EAAT,EAAa;QACX,KAAKA,EAAL,CAAQK,OAAR,GAAkBH,IAAlB;MACD;IACF,CAfwB;;IAAA,KAiBlBI,MAjBkB,GAiBRJ,IAAD,IAA8B;MAC5C,IAAI,KAAKF,EAAT,EAAa;QACX,KAAKA,EAAL,CAAQO,MAAR,GAAiBL,IAAjB;MACD;IACF,CArBwB;;IAAA,KAuBlBM,OAvBkB,GAuBPN,IAAD,IAA+B;MAC9C,IAAI,KAAKF,EAAT,EAAa;QACX,KAAKA,EAAL,CAAQS,OAAR,GAAkBP,IAAlB;MACD;IACF,CA3BwB;;IAAA,KA6BlBQ,cA7BkB,GA6BAC,GAAD,IAAwB;MAC9C,KAAKX,EAAL,GAAU,IAAIY,SAAJ,CAAcD,GAAG,IAAI,KAAKZ,QAA1B,CAAV;IACD,CA/BwB;;IAAA,KAiClBc,eAjCkB,GAiCA,MAAY;MAAA;;MACnC,iBAAKb,EAAL,sDAASc,KAAT;MACA,KAAKd,EAAL,GAAU,IAAV;IACD,CApCwB;;IACvB,KAAKD,QAAL,GAAgBD,GAAhB;IACA,KAAKE,EAAL,GAAU,IAAV;EACD;;AARoB;;AA4CvB,MAAMe,MAAM,GAAG,IAAInB,gBAAJ,CAAqBD,OAArB,CAAf;AAEA,SAASoB,MAAT,EAAiBnB,gBAAjB"},"metadata":{},"sourceType":"module"}